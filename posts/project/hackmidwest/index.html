<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>

  
  <meta name="author"
        content=""/>

  
  <meta name="description" content="An app used wifi probe request to do authentication."/>
  

  

  
  <link rel="canonical" href="http://www.tczhong.com/posts/project/hackmidwest/"/>

  

  <title>HackMidwest -- Sonder &middot; TC blog</title>

  <link rel="shortcut icon" href="http://www.tczhong.com/images/favicon.ico"/>
  <link rel="stylesheet" href="http://www.tczhong.com/css/animate.min.css"/>
  <link rel="stylesheet" href="http://www.tczhong.com/css/remixicon.css"/>
  <link rel="stylesheet" href="http://www.tczhong.com/css/zozo.css"/>
  <link rel="stylesheet" href="http://www.tczhong.com/css/highlight.css"/>

  
  
</head>

<body>
<div class="main animated">
  <div class="nav_container animated fadeInDown">
  <div class="site_nav" id="site_nav">
    <ul>
      
      <li>
        <a href="http://www.tczhong.com/posts/">Posts</a>
      </li>
      
      <li>
        <a href="http://www.tczhong.com/about/hello">About</a>
      </li>
      
      <li>
        <a href="http://www.tczhong.com/tianchen_zhong.pdf">My Resume</a>
      </li>
      
      <li>
        <a href="http://www.tczhong.com/posts/project/index.html">Project</a>
      </li>
      
    </ul>
  </div>
  <div class="menu_icon">
    <a id="menu_icon"><i class="remixicon-links-line"></i></a>
  </div>
</div>

  <div class="header animated fadeInDown">
  <div class="site_title_container">
    <div class="site_title">
      <h1>
        <a href="http://www.tczhong.com/">
          <span>TC blog</span>
          <img src="http://www.tczhong.com/img/kirby.png"/>
        </a>
      </h1>
    </div>
    <div class="description">
      <p class="sub_title"></p>
      <div class="my_socials">
        
        <a href="http://www.tczhong.com/index.xml" type="application/rss+xml" title="rss" target="_blank"><i class="remixicon-rss-fill"></i></a>
      </div>
    </div>
  </div>
</div>

  <div class="content">
    <div class="post_page">
      <div class="post animated fadeInDown">
        <div class="post_title post_detail_title">
          <h2><a href='http://www.tczhong.com/posts/project/hackmidwest/'>HackMidwest -- Sonder</a></h2>
          <span class="date">2018.07.23</span>
        </div>
        <div class="post_content markdown"><h1 id="hack-midwest----team-sonder">Hack Midwest &ndash; Team Sonder</h1>
<p>We won Sprint Prize and Cloudinary Prize.</p>
<p><img src="../hackathon.png" alt=""></p>
<p>Sonder is a <strong>proximity-based multi-purpose private network</strong> with applications in home automation, event planning and anonymous communication, enabled through text-based (SMS) virtual assistant. It allows user to anonymously interact with authorized peers.</p>
<p>The problem is every virtual automation assistance needs wifi to communicate with each other, we want to make a AP-less virtual automation. The main idea is to use cellular services to interact with a central hub to process information in areas such as home/office, social gatherings and hackathons. We want to communicate in a shared space with single text message authentication and ensure anonymity. In addition, we wanted a more fool-proof way to determine user proximity.</p>
<p>The coolest part in our hack is using the wifi probe request to get nearby device MAC address for user authentication. We have two QR codes and they help us to combine phone and MAC address. We use AWS EC2 as a backend server and DynamonDB as database to save records for each user. After user authenticated into our system, we will use Twilio API to interact with users. In our hack, we allow users to do announcements, send private message, find places of interest around us, identify people or objects in a scene or photos. We also developed an Alexa Skill to use Alexa for querying the backend database.</p>
<h2 id="wifi-probe-request">Wifi probe request</h2>
<p>We used <code>tcpdump</code> to get all package and filter WIFI probe request in the air. Your phone will send probe request to all wifi in the area and try to connect them. The information contains your device MAC address and wifi signal power. We want to use this to authenticate people. We came up with two step idea:</p>
<ol>
<li>Give user a QR code and it will let user to connect a FAKE wifi. Since it is fake, no one should connect to it except the user we want to get authenticated.</li>
<li>Get their MAC address and send a <code>create</code> request to backend. The backend will save the MAC address and return an unique id.</li>
<li>Python code will generate a <strong>NEW</strong> QR code to let user to scan.</li>
<li>This QR code will let user send a <strong>TEXT</strong> message with <strong>unique</strong> id to Twillio phone number.</li>
<li>Twillio phone get this message&rsquo;s sender phone number and send unique id and phone number to backend.</li>
<li>Backend will find the unique id and update database record&rsquo;s phone number.</li>
</ol>
<p>In this way, we could combine <strong>MAC address and phone number</strong>.</p>
<h2 id="backend">Backend</h2>
<p>In this project, I focused on Backend. The whole architecture is on AWS. We used EC2 instance to host <strong>Nodejs</strong> backend. Then we used DynamoDB to save data.</p>
<p>When the backend got request to create a new record, it will create a record with the following information:</p>
<ul>
<li>MAC address</li>
<li>phone number(not set)</li>
<li>create time</li>
<li>expiration time</li>
<li>unique id</li>
<li>mute (false)</li>
<li>info</li>
</ul>
<p>We needed expiration time to make sure only people nearby could get service we provided. When your phone connected to a wifi, it will not always send probe request, and we did not understand its mechanism. Therefore, when new probe request got from Python, it will update expiration time and allows this phone to get connect in 5 minutes.</p>
<p>When a registered phone get into our area, it will send probe request to any wifi, then backend will send all registered MAC address to Python. Python will only send already registered and nearby MAC address to backend. Backend will update its expiration time.</p>
<p>For Twilio and other service, it will only provided for people registered, not muted and nearby.</p>
<p>There are some screenshots to let you know more about our service.</p>
<p><img src="../pic/IMG_1942.PNG" alt="">
<img src="../pic/IMG_1943.PNG" alt="">
<img src="../pic/IMG_1944.PNG" alt="">
<img src="../pic/IMG_1946.PNG" alt="">
<img src="../pic/IMG_1947.PNG" alt=""></p>
<h2 id="alexa">Alexa</h2>
<p>In this project, we also tried to use Alexa skill. Because we only had 24 hour to develop, we just did a POC to prove we could  get backend data from DynamoDB.</p>
<p><img src="../pic/alexa.png" alt=""></p>
<p>The source code could find here.
<a href="https://github.com/cczhong11/hackmidwest2018/">GitHub</a></p>
</div>
        <div class="post_footer">
          
        </div>
      </div>
      
      
    </div>
  </div>
  <a id="back_to_top" href="#" class="back_to_top"><span>â–³</span></a>
</div>
<footer class="footer">
  <div class="powered_by">
    <a href="https://zeuk.me">Designed by Zeuk,</a>
    <a href="http://www.gohugo.io/">Proudly published with Hugo</a>
  </div>

  <div class="footer_slogan">
    <span></span>
  </div>
</footer>



<script src="http://www.tczhong.com/js/jquery-3.3.1.min.js"></script>
<script src="http://www.tczhong.com/js/zozo.js"></script>
<script src="http://www.tczhong.com/js/highlight.pack.js"></script>
<link  href="http://www.tczhong.com/css/fancybox.min.css" rel="stylesheet">
<script src="http://www.tczhong.com/js/fancybox.min.js"></script>

<script>hljs.initHighlightingOnLoad()</script>





<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "tczhong" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</body>
</html>
