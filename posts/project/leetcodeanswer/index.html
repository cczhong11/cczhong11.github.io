<!DOCTYPE html>
<html lang="en" class="wf-firasans-n4-active wf-active">
	<head>
    <link href="http://gmpg.org/xfn/11" rel="profile">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge"> <!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">   <meta name="generator" content="Hugo 0.47" /> 
<title>Leetcode Answer websites &middot; TC blog</title>
<meta content="Leetcode Answer websites - TC blog"
    property="og:title">
<meta content=" - A website helps you get answers for leetcode "
    property="og:description"> <!-- CSS -->
<link href="https://fonts.googleapis.com/css?family=Fira+Sans:300,300i,400,400i|Roboto+Mono:300,300i,400,400i" rel="stylesheet">
<link rel="stylesheet" href="http://www.tczhong.com/css/print.css" media="print">
<link rel="stylesheet" href="http://www.tczhong.com/css/poole.css">
<link rel="stylesheet" href="http://www.tczhong.com/css/hyde.css"> <!-- Font-Awesome -->
<script defer src="https://use.fontawesome.com/releases/v5.0.10/js/all.js" integrity="sha384-slN8GvtUJGnv6ca26v8EzVaR9DC58QEwsIk9q1QXdCU8Yu8ck/tL/5szYlBbqmS+"
    crossorigin="anonymous"></script> <!-- highlight.js-->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/vs.min.css"> <!-- Customised CSS -->
<link rel="stylesheet" href="http://www.tczhong.com/css/custom.css"> <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]--> <!-- Icons -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://www.tczhong.com/apple-touch-icon-144-precomposed.png">
<link rel="shortcut icon" href="http://www.tczhong.com/favicon.png"> 

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120924697-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-120924697-1');
</script>


	</head>
    <body>
        <div class="sidebar">
	<div class="container text-center sidebar-sticky">
		<div class="sidebar-about text-center">
			<a href="http://www.tczhong.com/"><h1 class="brand">TC blog</h1>
			 <img src="https://avatars2.githubusercontent.com/u/7358252?s=460&amp;v=4" alt="Author Image" class="img-circle headshot center"> </a>
			<p class="lead">
				 I am who I am. Love Cloud and Data science 
			</p>
		</div>
		
<div>
	<ul class="sidebar-nav">
		
		
				<li>
					<a href="http://www.tczhong.com/posts/"> <span>Posts</span></a>
				</li>
				<li>
					<a href="http://www.tczhong.com/about/hello"> <span>About</span></a>
				</li>
				<li>
					<a href="http://www.tczhong.com/tianchen_zhong.pdf"> <span>My Resume</span></a>
				</li>
				<li>
					<a href="http://www.tczhong.com/posts/project/index.html"> <span>Project</span></a>
				</li>
		</li>
	</ul>
</div>

        <p>
		<section class="row text-center">
	
	
	
	&nbsp;<a href="https://github.com/cczhong11"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	&nbsp;<a href="https://linkedin.com/in/tianchen-zhong"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a>
	
	
	&nbsp;<a href="https://stackoverflow.com/users/7112540"><i class="fab fa-stack-overflow fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	&nbsp;<a href="mailto:tczhong24@gmail.com"><i class="fas fa-at fa-lg" aria-hidden="true"></i></a>
	
</section>

        </p>
		<p class="copyright">&copy; 2018 Tc Zhong.
        <a href="https://creativecommons.org/licenses/by/4.0">Some Rights Reserved</a>.<br/>Built with <a href="https://gohugo.io/">Hugo</a> &amp; <a href="https://github.com/htr3n/hyde-hyde">hyde-hyde</a>.
        </p>
	</div>
	<div>
	</div>
</div>

        <div class="content container">
            <div class="post">
  <h1>Leetcode Answer websites</h1>
  
  <div class="col-sm-12 col-md-12">
    <span class="text-left post-date meta">
            
       <i class="fa fa-calendar" aria-hidden="true"></i> Jul 7, 2018 
      
      
        
        
            in
            
            
                <a class="meta" href="http://www.tczhong.com/categories/gcp">GCP</a>
                ,
            
                <a class="meta" href="http://www.tczhong.com/categories/github">GITHUB</a>
                ,
            
                <a class="meta" href="http://www.tczhong.com/categories/leetcode">LEETCODE</a>
                
            
        
      
      
      
      </span>  
  </div>    
  
  

<h1 id="the-idea">The idea</h1>

<p>It is popular for students to practise their coding skills on leetcode.com. It offers very good questions and good articles. However, it is not easy for people to learn from other good answers. Although it provides discussion, but people needs to go through threads by threads to find the right answers. I want to build a website <strong>for myself</strong> to find questions easily.</p>

<p><strong>All codes are belong to Leetcode.com, it is not a good idea to redistribute  them</strong>. I totally agree with LeetCode terms of service.</p>

<blockquote>
<p>&ldquo;Content&rdquo; means all software, communications, images, sounds, and material perceived or made available from the Applications. Unless otherwise specified in writing, all of our content is owned, controlled, or licensed by us. Content means all software, images, questions, solutions, or any material associated with the service and website. All content is copyrighted under United States copyright laws and/or similar laws of other jurisdictions, protecting it from unauthorized use.</p>

<p>You agree that all content is our sole and exclusive property. We may use all content for any purpose, including for commercial or promotional use without restriction or compensation to you. You agree not to copy, redistribute, publish or otherwise exploit any Content in violation of the intellectual property rights.</p>
</blockquote>

<h1 id="cost">Cost</h1>

<p>Thanks to the cloud platform and open source technology, we could build a website without a server. If you just want a static website, you could just use <a href="https://pages.github.com/">github pages</a>. But if you want to build a website with backend, you need to have a server to response website requests. The easiest way is to use the following tools:</p>

<ul>
<li>Google Domains</li>
<li>Github pages + ReactJS</li>
<li>Google Cloud Platform Function services</li>
<li>Google Cloud Platform Datastore</li>
</ul>

<p><img src="../leetcodeanswer.png" alt="" /></p>

<p>Domain costs me $12 per year. The github pages and ReactJS are free. GCP Function is charged the times it executed, $0.40/million. For Datastore, it is free for 1GB and daily read and write under 50000 and 20000. Therefore, it almost cost me nothing.</p>

<h1 id="building">Building</h1>

<h2 id="web-crawler">Web crawler</h2>

<p>In the beginning, I looked into requests from Leetcode.com from debug mode in Chrome and figure out the pattern. Then I wrote a python code to download all documents I needed to local.</p>

<p>Here I do not want to write more information about this procedure, because it has potential to violate the terms of service.</p>

<h2 id="datastore">Datastore</h2>

<p>After getting enough documents, I designed the 3 tables to save all the data.</p>

<ul>
<li>question to language: name is question id, the content is an array of all available languages.</li>
<li>question and language to runtime: name is the question+language, content is all possible runtime.</li>
<li>question and language and runtime to code: name is question+language+runtime and content is real solutions.</li>
</ul>

<p>It is also possible to only have one table and write good query sentence. The reason for me to have three tables instead of one table is because if there will be a large flow in the future, lots of search query will be the same. Therefore, I will use space to trade off time.</p>

<h2 id="functions">Functions</h2>

<p>In this part, I used JavaScript to query the datastore. In the beginning, I searched a lot about how to connect the datastore from the function, but there is no stackoverflow thread about this. One reason is the number of GCP users is not as high as Azure and AWS, thus lots of problem nobody knows.</p>

<p>However, it is easier than what I thought. In the first step, I tested all my code locally with Nodejs and make sure it could work to query the right document I want. Then I just needed to add <code>&quot;@google-cloud/datastore&quot;: &quot;^1.4.1&quot;</code> in the <code>package.json</code>. And then I could write function to query the result.</p>

<pre><code class="language-javascript">function getdata(parameter,cb){
    const query =
    ds.createQuery(type).filter('__key__', '=', ds.key([type, name]));
    var rs=&quot;&quot;;
    ds.runQuery(query)
    .then(results =&gt; {
       const t = results[0];
       data = t[0]
       cb(data);
    })
    .catch(err =&gt; {
       cb('ERROR:'+err);
    });
}
exports.helloWorld = (req, res) =&gt; {
    if(condition){
          getdata(parameter,function(d){
            res.status(200).json({&quot;data&quot;:d}).end();
          });
      }}
}
</code></pre>

<p>Here I used callback to send data to request. Because here it is a promise and you could not get data without a callback. Therefore I learnt callback and wrote the async code. I also designed a RESTful Api to let the front end could send request to query the data.</p>

<h2 id="front-end">Front End</h2>

<p>In the front end, I used ReactJS and github pages. The tutorial to do this could find <a href="https://codeburst.io/deploy-react-to-github-pages-to-create-an-amazing-website-42d8b09cd4d">here</a>.</p>

<p>I just create a very easy web page and allow users to query the data save in the datastore.</p>

<h1 id="conclusion">Conclusion</h1>

<p>Nowadays, we could get lots of free resource from the Internet. We could utilize them and make something could influence people&rsquo;s life.</p>

</div>
            <div class="footer">
                <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>

<script type="text/javascript">
    hljs.initHighlightingOnLoad();
</script>


        <h2>Comments</h2>
        <div id="disqus_thread"></div>
<script type="text/javascript">
      (function () {
            
            
            
            if (location.hostname === "localhost" || 
            	location.hostname === "127.0.0.1" || 
            	location.hostname === "") {
                return;
			}
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            var disqus_shortname = 'tczhong';
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(
                  dsq);
      })();
</script>

<noscript>
	Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    

            </div>
        </div>
        
                
    </body>
</html>
