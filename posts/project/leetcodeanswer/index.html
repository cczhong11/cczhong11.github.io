<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>

  
  <meta name="author"
        content=""/>

  
  <meta name="description" content="A website helps you get answers for leetcode "/>
  

  

  
  <link rel="canonical" href="http://www.tczhong.com/posts/project/leetcodeanswer/"/>

  

  <title>Leetcode Answer websites &middot; TC blog</title>

  <link rel="shortcut icon" href="http://www.tczhong.com/images/favicon.ico"/>
  <link rel="stylesheet" href="http://www.tczhong.com/css/animate.min.css"/>
  <link rel="stylesheet" href="http://www.tczhong.com/css/remixicon.css"/>
  <link rel="stylesheet" href="http://www.tczhong.com/css/zozo.css"/>
  <link rel="stylesheet" href="http://www.tczhong.com/css/highlight.css"/>

  
  
</head>

<body>
<div class="main animated">
  <div class="nav_container animated fadeInDown">
  <div class="site_nav" id="site_nav">
    <ul>
      
      <li>
        <a href="http://www.tczhong.com/posts/">Posts</a>
      </li>
      
      <li>
        <a href="http://www.tczhong.com/about/hello">About</a>
      </li>
      
      <li>
        <a href="http://www.tczhong.com/tianchen_zhong.pdf">My Resume</a>
      </li>
      
      <li>
        <a href="http://www.tczhong.com/posts/project/index.html">Project</a>
      </li>
      
    </ul>
  </div>
  <div class="menu_icon">
    <a id="menu_icon"><i class="remixicon-links-line"></i></a>
  </div>
</div>

  <div class="header animated fadeInDown">
  <div class="site_title_container">
    <div class="site_title">
      <h1>
        <a href="http://www.tczhong.com/">
          <span>TC blog</span>
          <img src="http://www.tczhong.com/img/kirby.png"/>
        </a>
      </h1>
    </div>
    <div class="description">
      <p class="sub_title"></p>
      <div class="my_socials">
        
        <a href="http://www.tczhong.com/index.xml" type="application/rss+xml" title="rss" target="_blank"><i class="remixicon-rss-fill"></i></a>
      </div>
    </div>
  </div>
</div>

  <div class="content">
    <div class="post_page">
      <div class="post animated fadeInDown">
        <div class="post_title post_detail_title">
          <h2><a href='http://www.tczhong.com/posts/project/leetcodeanswer/'>Leetcode Answer websites</a></h2>
          <span class="date">2018.07.08</span>
        </div>
        <div class="post_content markdown"><h1 id="the-idea">The idea</h1>
<p>It is popular for students to practise their coding skills on leetcode.com. It offers very good questions and good articles. However, it is not easy for people to learn from other good answers. Although it provides discussion, but people needs to go through threads by threads to find the right answers. I want to build a website <strong>for myself</strong> to find questions easily.</p>
<p><strong>All codes are belong to Leetcode.com, it is not a good idea to redistribute  them</strong>. I totally agree with LeetCode terms of service.</p>
<blockquote>
<p>&ldquo;Content&rdquo; means all software, communications, images, sounds, and material perceived or made available from the Applications. Unless otherwise specified in writing, all of our content is owned, controlled, or licensed by us. Content means all software, images, questions, solutions, or any material associated with the service and website. All content is copyrighted under United States copyright laws and/or similar laws of other jurisdictions, protecting it from unauthorized use.</p>
</blockquote>
<blockquote>
<p>You agree that all content is our sole and exclusive property. We may use all content for any purpose, including for commercial or promotional use without restriction or compensation to you. You agree not to copy, redistribute, publish or otherwise exploit any Content in violation of the intellectual property rights.</p>
</blockquote>
<h1 id="cost">Cost</h1>
<p>Thanks to the cloud platform and open source technology, we could build a website without a server. If you just want a static website, you could just use <a href="https://pages.github.com/">github pages</a>. But if you want to build a website with backend, you need to have a server to response website requests. The easiest way is to use the following tools:</p>
<ul>
<li>Google Domains</li>
<li>Github pages + ReactJS</li>
<li>Google Cloud Platform Function services</li>
<li>Google Cloud Platform Datastore</li>
</ul>
<p><img src="../leetcodeanswer.png" alt=""></p>
<p>Domain costs me $12 per year. The github pages and ReactJS are free. GCP Function is charged the times it executed, $0.40/million. For Datastore, it is free for 1GB and daily read and write under 50000 and 20000. Therefore, it almost cost me nothing.</p>
<h1 id="building">Building</h1>
<h2 id="web-crawler">Web crawler</h2>
<p>In the beginning, I looked into requests from Leetcode.com from debug mode in Chrome and figure out the pattern. Then I wrote a python code to download all documents I needed to local.</p>
<p>Here I do not want to write more information about this procedure, because it has potential to violate the terms of service.</p>
<h2 id="datastore">Datastore</h2>
<p>After getting enough documents, I designed the 3 tables to save all the data.</p>
<ul>
<li>question to language: name is question id, the content is an array of all available languages.</li>
<li>question and language to runtime: name is the question+language, content is all possible runtime.</li>
<li>question and language and runtime to code: name is question+language+runtime and content is real solutions.</li>
</ul>
<p>It is also possible to only have one table and write good query sentence. The reason for me to have three tables instead of one table is because if there will be a large flow in the future, lots of search query will be the same. Therefore, I will use space to trade off time.</p>
<h2 id="functions">Functions</h2>
<p>In this part, I used JavaScript to query the datastore. In the beginning, I searched a lot about how to connect the datastore from the function, but there is no stackoverflow thread about this. One reason is the number of GCP users is not as high as Azure and AWS, thus lots of problem nobody knows.</p>
<p>However, it is easier than what I thought. In the first step, I tested all my code locally with Nodejs and make sure it could work to query the right document I want. Then I just needed to add <code>&quot;@google-cloud/datastore&quot;: &quot;^1.4.1&quot;</code> in the <code>package.json</code>. And then I could write function to query the result.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getdata</span>(<span style="color:#a6e22e">parameter</span>,<span style="color:#a6e22e">cb</span>){
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">query</span> <span style="color:#f92672">=</span>
    <span style="color:#a6e22e">ds</span>.<span style="color:#a6e22e">createQuery</span>(<span style="color:#a6e22e">type</span>).<span style="color:#a6e22e">filter</span>(<span style="color:#e6db74">&#39;__key__&#39;</span>, <span style="color:#e6db74">&#39;=&#39;</span>, <span style="color:#a6e22e">ds</span>.<span style="color:#a6e22e">key</span>([<span style="color:#a6e22e">type</span>, <span style="color:#a6e22e">name</span>]));
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">rs</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>;
    <span style="color:#a6e22e">ds</span>.<span style="color:#a6e22e">runQuery</span>(<span style="color:#a6e22e">query</span>)
    .<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">results</span> =&gt; {
       <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">t</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">results</span>[<span style="color:#ae81ff">0</span>];
       <span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">t</span>[<span style="color:#ae81ff">0</span>]
       <span style="color:#a6e22e">cb</span>(<span style="color:#a6e22e">data</span>);
    })
    .<span style="color:#66d9ef">catch</span>(<span style="color:#a6e22e">err</span> =&gt; {
       <span style="color:#a6e22e">cb</span>(<span style="color:#e6db74">&#39;ERROR:&#39;</span><span style="color:#f92672">+</span><span style="color:#a6e22e">err</span>);
    });
}
<span style="color:#a6e22e">exports</span>.<span style="color:#a6e22e">helloWorld</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) =&gt; {
    <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">condition</span>){
          <span style="color:#a6e22e">getdata</span>(<span style="color:#a6e22e">parameter</span>,<span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">d</span>){
            <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span>(<span style="color:#ae81ff">200</span>).<span style="color:#a6e22e">json</span>({<span style="color:#e6db74">&#34;data&#34;</span><span style="color:#f92672">:</span><span style="color:#a6e22e">d</span>}).<span style="color:#a6e22e">end</span>();
          });
      }}
}
</code></pre></div><p>Here I used callback to send data to request. Because here it is a promise and you could not get data without a callback. Therefore I learnt callback and wrote the async code. I also designed a RESTful Api to let the front end could send request to query the data.</p>
<h2 id="front-end">Front End</h2>
<p>In the front end, I used ReactJS and github pages. The tutorial to do this could find <a href="https://codeburst.io/deploy-react-to-github-pages-to-create-an-amazing-website-42d8b09cd4d">here</a>.</p>
<p>I just create a very easy web page and allow users to query the data save in the datastore.</p>
<h1 id="conclusion">Conclusion</h1>
<p>Nowadays, we could get lots of free resource from the Internet. We could utilize them and make something could influence people&rsquo;s life.</p>
</div>
        <div class="post_footer">
          
        </div>
      </div>
      
      
    </div>
  </div>
  <a id="back_to_top" href="#" class="back_to_top"><span>△</span></a>
</div>
<footer class="footer">
  <div class="powered_by">
    <a href="https://zeuk.me">Designed by Zeuk,</a>
    <a href="http://www.gohugo.io/">Proudly published with Hugo</a>
  </div>

  <div class="footer_slogan">
    <span></span>
  </div>
</footer>



<script src="http://www.tczhong.com/js/jquery-3.3.1.min.js"></script>
<script src="http://www.tczhong.com/js/zozo.js"></script>
<script src="http://www.tczhong.com/js/highlight.pack.js"></script>
<link  href="http://www.tczhong.com/css/fancybox.min.css" rel="stylesheet">
<script src="http://www.tczhong.com/js/fancybox.min.js"></script>

<script>hljs.initHighlightingOnLoad()</script>





<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "tczhong" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</body>
</html>
